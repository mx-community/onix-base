/*
Segun su funcionalidad:
Detecta usuarios con la nueva actualizaci√≥n @lid
Detecta la configuraci√≥n del chat grupal.
Detecta comandos no compatibles (aplica √∫nicamente mejoras en el grupo)
*/

function _0x2852(_0x2a12ac,_0x259e8c){_0x2a12ac=_0x2a12ac-0x64;const _0x2cc60a=_0x2365();let _0x41ba44=_0x2cc60a[_0x2a12ac];return _0x41ba44;}const _0x28415f=_0x2852;(function(_0x1b8158,_0x575f73){const _0x11759f=_0x2852,_0x698b48=_0x1b8158();while(!![]){try{const _0x17ca74=-parseInt(_0x11759f(0x7c))/0x1+-parseInt(_0x11759f(0x78))/0x2*(parseInt(_0x11759f(0x64))/0x3)+-parseInt(_0x11759f(0x65))/0x4*(-parseInt(_0x11759f(0x90))/0x5)+-parseInt(_0x11759f(0x86))/0x6+-parseInt(_0x11759f(0xac))/0x7+-parseInt(_0x11759f(0x8c))/0x8+parseInt(_0x11759f(0x75))/0x9;if(_0x17ca74===_0x575f73)break;else _0x698b48['push'](_0x698b48['shift']());}catch(_0x227a84){_0x698b48['push'](_0x698b48['shift']());}}}(_0x2365,0x22727));const _0x3cbe4e=(function(){let _0x35f2d1=!![];return function(_0x33ee9d,_0x75d1e1){const _0x208484=_0x35f2d1?function(){const _0x12ee6d=_0x2852;if(_0x75d1e1){const _0x4af80d=_0x75d1e1[_0x12ee6d(0x97)](_0x33ee9d,arguments);return _0x75d1e1=null,_0x4af80d;}}:function(){};return _0x35f2d1=![],_0x208484;};}()),_0x11eeed=_0x3cbe4e(this,function(){const _0x407273=_0x2852;return _0x11eeed[_0x407273(0x8a)]()[_0x407273(0x91)](_0x407273(0xa4))['toString']()[_0x407273(0x96)](_0x11eeed)[_0x407273(0x91)]('(((.+)+)+)+$');});_0x11eeed();const _0x172945=(function(){let _0x41384c=!![];return function(_0xe11a70,_0x34b19){const _0x1aea74=_0x41384c?function(){const _0x495be8=_0x2852;if(_0x34b19){const _0x19aa68=_0x34b19[_0x495be8(0x97)](_0xe11a70,arguments);return _0x34b19=null,_0x19aa68;}}:function(){};return _0x41384c=![],_0x1aea74;};}()),_0x41ba44=_0x172945(this,function(){const _0xa5887d=_0x2852;let _0x52edb1;try{const _0x370886=Function(_0xa5887d(0x74)+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x52edb1=_0x370886();}catch(_0x5d70da){_0x52edb1=window;}const _0x565ea1=_0x52edb1[_0xa5887d(0x70)]=_0x52edb1[_0xa5887d(0x70)]||{},_0x383ea6=[_0xa5887d(0x87),_0xa5887d(0x7b),_0xa5887d(0x9f),'error','exception','table','trace'];for(let _0x1d0c48=0x0;_0x1d0c48<_0x383ea6[_0xa5887d(0x8b)];_0x1d0c48++){const _0x11b20a=_0x172945['constructor'][_0xa5887d(0x6e)][_0xa5887d(0x72)](_0x172945),_0x550ed9=_0x383ea6[_0x1d0c48],_0x4ef682=_0x565ea1[_0x550ed9]||_0x11b20a;_0x11b20a[_0xa5887d(0x7f)]=_0x172945[_0xa5887d(0x72)](_0x172945),_0x11b20a[_0xa5887d(0x8a)]=_0x4ef682['toString']['bind'](_0x4ef682),_0x565ea1[_0x550ed9]=_0x11b20a;}});function _0x2365(){const _0x10c0d5=['jid','split','join','participants','prototype','toruImg','console','detect','bind','data','return\x20(function()\x20','7865424UxBBzR','Elimina\x20el\x20archivo\x20','@s.whatsapp.net','718COVQTD','\x20para\x20detener\x20ciertas\x20cosas.','before','warn','227475guonKo','üìç\x20\x20Se\x20ha\x20configurado\x20el\x20grupo\x20para\x20que\x20','üìç\x20\x20El\x20grupo\x20ahora\x20esta\x20','__proto__','üìç\x20\x20El\x20administrador\x20@','üìç\x20\x20El\x20usuario\x20@','messageStubParameters','üìç\x20\x20El\x20participante\x20@','@lid','includes','1210998UnOYmm','log','unlink','readdir','toString','length','2210264TFEAnK','solo\x20los\x20administradores\x20puedan\x20enviar\x20mensajes.','lid','set','270920wHCzQc','search','üìç\x20\x20Se\x20ha\x20restablecido\x20el\x20enlace\x20grupal\x20recientemente.\x0a\x0a‚ú¶\x20*Realizado\x20por:*\x0a‚Ä¢\x20‚úé\x20@','sendMessage','has','default','constructor','apply','promises','No\x20se\x20obtuvieron\x20participantes','primaryBot','isGroup','chat','chats','endsWith','info','get','sender','messageStubType','admin','(((.+)+)+)+$','\x0a\x0a‚ú¶\x20*Realizado\x20por:*\x0a‚Ä¢\x20‚úé\x20@','@g.us','profilePictureUrl','abierto,\x20ahora\x20todos\x20pueden\x20enviar\x20mensajes.','filter','from','@whiskeysockets/baileys','1190224uYQNKM','groupMetadata','todos\x20pudieran\x20enviar\x20mensajes.','618fnSUsD','16FjSQup','https://files.catbox.moe/3labkc.jpg',',\x20ha\x20configurado\x20el\x20nombre\x20del\x20grupo\x20recientemente.\x0a\x0a‚ú¶\x20*Nuevo\x20nombre:*\x0a‚Ä¢\x20‚úé\x20','map','\x20ahora\x20es\x20un\x20administrador\x20grupal.\x0a\x0a‚ú¶\x20*Realizado\x20por:*\x0a‚Ä¢\x20‚úé\x20@'];_0x2365=function(){return _0x10c0d5;};return _0x2365();}_0x41ba44();let WAMessageStubType=(await import(_0x28415f(0xab)))[_0x28415f(0x95)];import _0x424c9a from'chalk';import _0x1caf98 from'fs';import _0x3b5afc from'axios';import _0x18e315 from'path';import _0xc92e0 from'node-fetch';const groupMetadataCache=new Map(),lidCache=new Map(),handler=_0x5f49ae=>_0x5f49ae;handler[_0x28415f(0x7a)]=async function(_0x46840f,{conn:_0x55dfed,participants:_0x437b5d,groupMetadata:_0x3ab909}){const _0x792c39=_0x28415f;if(!_0x46840f['messageStubType']||!_0x46840f[_0x792c39(0x9b)])return;const _0x3c9bc2=global['db'][_0x792c39(0x73)][_0x792c39(0x9d)][_0x46840f[_0x792c39(0x9c)]][_0x792c39(0x9a)];if(_0x3c9bc2&&_0x55dfed['user'][_0x792c39(0x6a)]!==_0x3c9bc2)throw!0x1;const _0x4d371a=global['db'][_0x792c39(0x73)][_0x792c39(0x9d)][_0x46840f['chat']],_0x41dd2e=_0x46840f['messageStubParameters'][0x0],_0x57e450=await resolveLidToRealJid(_0x46840f?.[_0x792c39(0xa1)],_0x55dfed,_0x46840f?.[_0x792c39(0x9c)]),_0x3dfe2c=_0x437b5d[_0x792c39(0xa9)](_0x4dbfcd=>_0x4dbfcd[_0x792c39(0xa3)]),_0x1c0430=async()=>{const _0x382aa9=_0x792c39,_0x29733f=await _0x3b5afc[_0x382aa9(0xa0)](_0x382aa9(0x66),{'responseType':'arraybuffer'});return Buffer[_0x382aa9(0xaa)](_0x29733f[_0x382aa9(0x73)],'binary');},_0x593c23=await _0x1c0430(),_0x13aa94=await _0x55dfed[_0x792c39(0xa7)](_0x46840f[_0x792c39(0x9c)],'image')['catch'](_0x518b1b=>null)||global[_0x792c39(0x6f)],_0x3137a2=_0x792c39(0x81)+_0x57e450['split']('@')[0x0]+_0x792c39(0x67)+_0x46840f[_0x792c39(0x82)][0x0],_0x2488b4='üìç\x20\x20Se\x20ha\x20configurado\x20la\x20foto\x20grupal\x20recientemente.\x0a\x0a‚ú¶\x20*Realizado\x20por:*\x0a‚Ä¢\x20‚úé\x20@'+_0x57e450[_0x792c39(0x6b)]('@')[0x0],_0x846625=_0x792c39(0x7d)+(_0x46840f[_0x792c39(0x82)][0x0]=='on'?_0x792c39(0x8d):_0x792c39(0xae))+_0x792c39(0xa5)+_0x57e450[_0x792c39(0x6b)]('@')[0x0],_0x5cc551=_0x792c39(0x92)+_0x57e450[_0x792c39(0x6b)]('@')[0x0],_0x1a0ba8=_0x792c39(0x7e)+(_0x46840f[_0x792c39(0x82)][0x0]=='on'?'cerrado,\x20solo\x20los\x20administradores\x20pueden\x20enviar\x20mensajes.':_0x792c39(0xa8))+_0x792c39(0xa5)+_0x57e450[_0x792c39(0x6b)]('@')[0x0],_0x20ad8f=_0x792c39(0x83)+_0x41dd2e[_0x792c39(0x6b)]('@')[0x0]+_0x792c39(0x69)+_0x57e450[_0x792c39(0x6b)]('@')[0x0],_0x2cb2bb=_0x792c39(0x80)+_0x41dd2e[_0x792c39(0x6b)]('@')[0x0]+'\x20ahora\x20ya\x20no\x20es\x20un\x20administrador\x20grupal.\x0a\x0a‚ú¶\x20*Realizado\x20por:*\x0a‚Ä¢\x20‚úé\x20@'+_0x57e450[_0x792c39(0x6b)]('@')[0x0];if(_0x4d371a[_0x792c39(0x71)]&&_0x46840f[_0x792c39(0xa2)]==0x2){const _0x29f703=(_0x46840f[_0x792c39(0x9b)]?_0x46840f['chat']:_0x46840f[_0x792c39(0xa1)])[_0x792c39(0x6b)]('@')[0x0],_0x55e9e7='./'+sessions+'/';for(const _0x4a61d0 of await _0x1caf98[_0x792c39(0x98)][_0x792c39(0x89)](_0x55e9e7)){_0x4a61d0['includes'](_0x29f703)&&(await _0x1caf98[_0x792c39(0x98)][_0x792c39(0x88)](_0x18e315[_0x792c39(0x6c)](_0x55e9e7,_0x4a61d0)),console[_0x792c39(0x87)](_0x792c39(0x76)+_0x424c9a['greenBright']('\x27'+_0x4a61d0+'\x27')+_0x792c39(0x79)));}}_0x4d371a['detect']&&_0x46840f[_0x792c39(0xa2)]==0x15&&await this['sendMessage'](_0x46840f[_0x792c39(0x9c)],{'text':_0x3137a2,'mentionedJid':[_0x57e450,..._0x3dfe2c[_0x792c39(0x68)](_0x5564b4=>_0x5564b4['id'])]},_0x46840f);_0x4d371a[_0x792c39(0x71)]&&_0x46840f['messageStubType']==0x16&&await this[_0x792c39(0x93)](_0x46840f[_0x792c39(0x9c)],{'image':{'url':_0x13aa94},'caption':_0x2488b4,'mentionedJid':[_0x57e450,..._0x3dfe2c[_0x792c39(0x68)](_0x3ed2cb=>_0x3ed2cb['id'])]},_0x46840f);_0x4d371a[_0x792c39(0x71)]&&_0x46840f['messageStubType']==0x17&&await this['sendMessage'](_0x46840f[_0x792c39(0x9c)],{'text':_0x5cc551,'mentionedJid':[_0x57e450,..._0x3dfe2c[_0x792c39(0x68)](_0x656f94=>_0x656f94['id'])]},_0x46840f);_0x4d371a[_0x792c39(0x71)]&&_0x46840f['messageStubType']==0x19&&await this[_0x792c39(0x93)](_0x46840f[_0x792c39(0x9c)],{'text':_0x846625,'mentionedJid':[_0x57e450,..._0x3dfe2c[_0x792c39(0x68)](_0x277e14=>_0x277e14['id'])]},_0x46840f);_0x4d371a['detect']&&_0x46840f[_0x792c39(0xa2)]==0x1a&&await this['sendMessage'](_0x46840f[_0x792c39(0x9c)],{'text':_0x1a0ba8,'mentionedJid':[_0x57e450,..._0x3dfe2c[_0x792c39(0x68)](_0x2c1763=>_0x2c1763['id'])]},_0x46840f);if(_0x4d371a[_0x792c39(0x71)]&&_0x46840f[_0x792c39(0xa2)]==0x1d){await this['sendMessage'](_0x46840f[_0x792c39(0x9c)],{'text':_0x20ad8f,'mentionedJid':[_0x57e450,_0x41dd2e,..._0x3dfe2c['map'](_0x342a83=>_0x342a83['id'])][_0x792c39(0xa9)](Boolean)},_0x46840f);return;}if(_0x4d371a[_0x792c39(0x71)]&&_0x46840f[_0x792c39(0xa2)]==0x1e)await this[_0x792c39(0x93)](_0x46840f[_0x792c39(0x9c)],{'text':_0x2cb2bb,'mentionedJid':[_0x57e450,_0x41dd2e,..._0x3dfe2c[_0x792c39(0x68)](_0x5eff60=>_0x5eff60['id'])][_0x792c39(0xa9)](Boolean)},_0x46840f);else{if(_0x46840f[_0x792c39(0xa2)]==0x2)return;console['log']({'messageStubType':_0x46840f[_0x792c39(0xa2)],'messageStubParameters':_0x46840f[_0x792c39(0x82)],'type':WAMessageStubType[_0x46840f[_0x792c39(0xa2)]]});}};export default handler;async function resolveLidToRealJid(_0x1134f4,_0x38298d,_0x1c4775,_0x25a1b7=0x3,_0x44728e=0xea60){const _0x37e6d0=_0x28415f,_0x43bda7=_0x1134f4['toString']();if(!_0x43bda7['endsWith'](_0x37e6d0(0x84))||!_0x1c4775?.[_0x37e6d0(0x9e)](_0x37e6d0(0xa6)))return _0x43bda7[_0x37e6d0(0x85)]('@')?_0x43bda7:_0x43bda7+_0x37e6d0(0x77);if(lidCache[_0x37e6d0(0x94)](_0x43bda7))return lidCache['get'](_0x43bda7);const _0x3e284f=_0x43bda7[_0x37e6d0(0x6b)]('@')[0x0];let _0x4fbe04=0x0;while(_0x4fbe04<_0x25a1b7){try{const _0x522a04=await _0x38298d?.[_0x37e6d0(0xad)](_0x1c4775);if(!_0x522a04?.[_0x37e6d0(0x6d)])throw new Error(_0x37e6d0(0x99));for(const _0x28b0dd of _0x522a04['participants']){try{if(!_0x28b0dd?.[_0x37e6d0(0x6a)])continue;const _0x540d73=await _0x38298d?.['onWhatsApp'](_0x28b0dd[_0x37e6d0(0x6a)]);if(!_0x540d73?.[0x0]?.[_0x37e6d0(0x8e)])continue;const _0x476ea3=_0x540d73[0x0][_0x37e6d0(0x8e)]['split']('@')[0x0];if(_0x476ea3===_0x3e284f)return lidCache[_0x37e6d0(0x8f)](_0x43bda7,_0x28b0dd[_0x37e6d0(0x6a)]),_0x28b0dd[_0x37e6d0(0x6a)];}catch(_0x53a85a){continue;}}return lidCache['set'](_0x43bda7,_0x43bda7),_0x43bda7;}catch(_0xd12880){if(++_0x4fbe04>=_0x25a1b7)return lidCache[_0x37e6d0(0x8f)](_0x43bda7,_0x43bda7),_0x43bda7;await new Promise(_0x53e56c=>setTimeout(_0x53e56c,_0x44728e));}}return _0x43bda7;}
